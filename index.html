<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHOPPING | Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</title>

    <!-- Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />

    <!-- Ù…ÙƒØªØ¨Ø§Øª ÙÙŠØ±Ø¨Ø§Ø³ -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <style>
        /* --- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹Ø§Ù…Ø© (Ù…Ø³ØªÙˆØ­Ø§Ø© Ù…Ù† iPhyto) --- */
        :root {
            --primary-color: #2b5c2e;
            /* Ø§Ù„Ø£Ø®Ø¶Ø± Ø§Ù„ØºØ§Ù…Ù‚ Ø§Ù„Ù…Ù…ÙŠØ² */
            --secondary-color: #8bc34a;
            /* Ø§Ù„Ø£Ø®Ø¶Ø± Ø§Ù„ÙØ§ØªØ­ */
            --accent-color: #ff9800;
            /* Ù„Ù„Ø£Ø³Ø¹Ø§Ø± ÙˆØ§Ù„Ø£Ø²Ø±Ø§Ø± */
            --bg-color: #f9fcf9;
            /* Ø®Ù„ÙÙŠØ© ÙØ§ØªØ­Ø© Ø¬Ø¯Ø§Ù‹ Ù…Ø±ÙŠØ­Ø© Ù„Ù„Ø¹ÙŠÙ† */
            --text-dark: #333;
            --text-light: #666;
            --white: #ffffff;
            --shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            outline: none;
            text-decoration: none;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-dark);
            overflow-x: hidden;
        }

        /* --- Ø§Ù„Ù‡ÙŠØ¯Ø± (Header) --- */
        header {
            background: var(--white);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .top-bar {
            background: var(--primary-color);
            color: white;
            text-align: center;
            padding: 5px;
            font-size: 0.8rem;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 5%;
            height: 80px;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .logo i {
            color: var(--secondary-color);
        }

        .search-box {
            flex: 1;
            max-width: 500px;
            margin: 0 20px;
            position: relative;
            display: none;
        }

        @media(min-width: 768px) {
            .search-box {
                display: block;
            }
        }

        .search-box input {
            width: 100%;
            padding: 10px 15px;
            border-radius: 25px;
            border: 1px solid #ddd;
            background: #f4f4f4;
        }

        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #aaa;
        }

        .nav-icons {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .icon-btn {
            position: relative;
            cursor: pointer;
            font-size: 1.2rem;
            color: var(--text-dark);
            transition: 0.3s;
        }

        .icon-btn:hover {
            color: var(--primary-color);
        }

        .badge {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--accent-color);
            color: white;
            font-size: 0.7rem;
            padding: 2px 6px;
            border-radius: 50%;
        }

        /* --- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (Navigation) --- */
        .main-menu {
            background: var(--white);
            border-top: 1px solid #eee;
            display: flex;
            justify-content: center;
            gap: 30px;
            padding: 10px 0;
            font-weight: 600;
            font-size: 0.95rem;
        }

        .menu-item {
            cursor: pointer;
            color: var(--text-dark);
            transition: 0.2s;
        }

        .menu-item:hover {
            color: var(--primary-color);
        }

        /* --- Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± (Hero Slider) --- */
        .swiper {
            width: 100%;
            height: 500px;
        }

        .swiper-slide {
            background-position: center;
            background-size: cover;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }

        /* ØªØ¯Ø±Ø¬ Ù„ÙˆÙ†ÙŠ ÙÙˆÙ‚ Ø§Ù„ØµÙˆØ±Ø© Ù„Ø¶Ù…Ø§Ù† ÙˆØ¶ÙˆØ­ Ø§Ù„Ù†Øµ */
        .swiper-slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.1) 60%);
        }

        .slide-content {
            position: relative;
            z-index: 10;
            padding-right: 10%;
            max-width: 600px;
        }

        .slide-title {
            font-size: 3.5rem;
            color: var(--primary-color);
            line-height: 1.2;
            margin-bottom: 15px;
            opacity: 0;
            transform: translateY(20px);
            transition: 1s;
        }

        .slide-text {
            font-size: 1.2rem;
            color: var(--text-light);
            margin-bottom: 25px;
            opacity: 0;
            transform: translateY(20px);
            transition: 1s 0.3s;
        }

        .slide-btn {
            background: var(--primary-color);
            color: white;
            padding: 12px 35px;
            border-radius: 30px;
            border: none;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
            opacity: 0;
            transform: translateY(20px);
            transition: 1s 0.6s;
        }

        .slide-btn:hover {
            background: var(--secondary-color);
        }

        /* ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ø¹Ù†Ø¯ Ø§Ù„Ø¹Ø±Ø¶ */
        .swiper-slide-active .slide-title,
        .swiper-slide-active .slide-text,
        .swiper-slide-active .slide-btn {
            opacity: 1;
            transform: translateY(0);
        }

        /* --- Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª --- */
        .section-title {
            text-align: center;
            font-size: 2rem;
            color: var(--primary-color);
            margin: 50px 0 30px;
            position: relative;
        }

        .section-title::after {
            content: '';
            display: block;
            width: 60px;
            height: 3px;
            background: var(--secondary-color);
            margin: 10px auto;
        }

        .products-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
            padding: 0 5% 50px;
        }

        .product-card {
            background: var(--white);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            box-shadow: var(--shadow);
            transition: 0.3s;
            border: 1px solid transparent;
            display: flex;
            flex-direction: column;
        }

        .product-card:hover {
            transform: translateY(-10px);
            border-color: var(--secondary-color);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .prod-img-box {
            height: 220px;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #fff;
        }

        .prod-img {
            max-height: 100%;
            max-width: 100%;
            object-fit: contain;
            transition: 0.3s;
        }

        .product-card:hover .prod-img {
            transform: scale(1.05);
        }

        .prod-details {
            padding: 20px;
            text-align: center;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            background: #fdfdfd;
        }

        .prod-cat {
            font-size: 0.8rem;
            color: #999;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .prod-title {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--text-dark);
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .prod-price {
            font-size: 1.3rem;
            color: var(--primary-color);
            font-weight: bold;
            margin-bottom: 15px;
        }

        .add-btn {
            width: 100%;
            padding: 10px;
            border: 2px solid var(--primary-color);
            background: transparent;
            color: var(--primary-color);
            font-weight: bold;
            border-radius: 25px;
            cursor: pointer;
            transition: 0.3s;
        }

        .add-btn:hover {
            background: var(--primary-color);
            color: white;
        }

        /* --- Ø§Ù„ÙÙˆØªØ± --- */
        footer {
            background: #1b1b1b;
            color: #ccc;
            padding: 50px 5%;
            text-align: center;
        }

        .footer-logo {
            font-size: 2rem;
            color: white;
            margin-bottom: 20px;
            display: inline-block;
        }

        .footer-logo span {
            color: var(--secondary-color);
        }

        /* --- Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ (Popups) --- */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            position: relative;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
        }

        .close-btn {
            position: absolute;
            top: 15px;
            left: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #777;
        }

        /* --- Admin Forms --- */
        .form-input {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }

        .primary-btn {
            background: var(--primary-color);
            color: white;
            padding: 12px;
            width: 100%;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 10px;
        }

        /* --- Cart Items --- */
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            z-index: 3000;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            color: var(--primary-color);
        }
    </style>
</head>

<body>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
    <!-- <div id="loader" class="loader">
        <div style="text-align:center">
            <i class="fas fa-leaf fa-spin fa-2x"></i><br>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ØªØ¬Ø±...
        </div>
    </div> -->

    <!-- Header -->
    <header>
        <div class="top-bar">Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ Ù„Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„ØªÙŠ ØªØ²ÙŠØ¯ Ø¹Ù† 500 Ø¬Ù†ÙŠÙ‡ | ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†</div>
        <div class="navbar">
            <div class="nav-icons">
                <div class="icon-btn" onclick="openModal('cartModal')">
                    <i class="fas fa-shopping-bag"></i>
                    <span class="badge" id="cartCount">0</span>
                </div>
                <div class="icon-btn" onclick="openModal('adminLoginModal')">
                    <i class="fas fa-user-circle"></i>
                </div>
            </div>

            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬..." onkeyup="searchProducts()">
            </div>

            <a href="#" class="logo"><i class="fas fa-seedling"></i> SHOPPING</a>
        </div>

        <div class="main-menu">
            <div class="menu-item" onclick="filterCat('all')">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
            <div class="menu-item" onclick="filterCat('ÙÙŠØªØ§Ù…ÙŠÙ†Ø§Øª')">ÙÙŠØªØ§Ù…ÙŠÙ†Ø§Øª</div>
            <div class="menu-item" onclick="filterCat('Ø¹Ù†Ø§ÙŠØ©')">Ø¹Ù†Ø§ÙŠØ© Ø´Ø®ØµÙŠØ©</div>
            <div class="menu-item" onclick="filterCat('Ø·Ø¨ÙŠØ¹ÙŠ')">Ù…Ù†ØªØ¬Ø§Øª Ø·Ø¨ÙŠØ¹ÙŠØ©</div>
            <div class="menu-item" onclick="filterCat('Ø£ØºØ°ÙŠØ©')">Ø£ØºØ°ÙŠØ© ØµØ­ÙŠØ©</div>
        </div>
    </header>

    <!-- Hero Slider -->
    <div class="swiper">
        <div class="swiper-wrapper">
            <!-- Slide 1 -->
            <div class="swiper-slide"
                style="background-image: url('https://images.pexels.com/photos/4050316/pexels-photo-4050316.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1');">
                <div class="slide-content" style="padding-right: 8%;">
                    <h2 class="slide-title">Ø§Ù„Ø·Ø¨ÙŠØ¹Ø© ÙÙŠ Ù…Ù†Ø²Ù„Ùƒ</h2>
                    <p class="slide-text">Ø§ÙƒØªØ´Ù Ù…Ø¬Ù…ÙˆØ¹ØªÙ†Ø§ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¹Ø¶ÙˆÙŠØ© 100% Ù„Ù„Ø¹Ù†Ø§ÙŠØ© Ø¨ØµØ­ØªÙƒ ÙˆØ¬Ù…Ø§Ù„Ùƒ.</p>
                    <button class="slide-btn" onclick="document.getElementById('products').scrollIntoView()">ØªØ³ÙˆÙ‚
                        Ø§Ù„Ø¢Ù†</button>
                </div>
            </div>
            <!-- Slide 2 -->
            <div class="swiper-slide"
                style="background-image: url('https://images.pexels.com/photos/3652806/pexels-photo-3652806.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1');">
                <div class="slide-content" style="padding-right: 8%;">
                    <h2 class="slide-title">Ø¹Ù†Ø§ÙŠØ© ÙØ§Ø¦Ù‚Ø©</h2>
                    <p class="slide-text">Ø£ÙØ¶Ù„ Ø§Ù„ÙÙŠØªØ§Ù…ÙŠÙ†Ø§Øª ÙˆØ§Ù„Ù…ÙƒÙ…Ù„Ø§Øª Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ© Ø¨Ø£Ø³Ø¹Ø§Ø± Ù„Ø§ ØªÙ‚Ø¨Ù„ Ø§Ù„Ù…Ù†Ø§ÙØ³Ø©.</p>
                    <button class="slide-btn" onclick="document.getElementById('products').scrollIntoView()">Ø§ÙƒØªØ´Ù
                        Ø§Ù„Ø¹Ø±ÙˆØ¶</button>
                </div>
            </div>
        </div>
        <div class="swiper-pagination"></div>
    </div>

    <!-- Products Section -->
    <h2 class="section-title">Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§ Ø§Ù„Ù…Ù…ÙŠØ²Ø©</h2>
    <div class="products-container" id="products">
        <!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-logo"><i class="fas fa-seedling"></i> SHOPPING <span>STORE</span></div>
        <p>ÙˆØ¬Ù‡ØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© ÙˆØ§Ù„ØµØ­ÙŠØ©</p>
        <br>
        <p>&copy; 2025 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
    </footer>

    <!-- --- Modals --- -->

    <!-- Admin Login -->
    <div id="adminLoginModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('adminLoginModal')">&times;</span>
            <h2 style="text-align:center; color:var(--primary-color); margin-bottom:20px">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
            <input type="text" id="adminUser" class="form-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
            <input type="password" id="adminPass" class="form-input" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
            <button class="primary-btn" onclick="loginAdmin()">Ø¯Ø®ÙˆÙ„</button>
        </div>
    </div>

    <!-- Admin Dashboard (Add Product) -->
    <div id="dashboardModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('dashboardModal')">&times;</span>
            <h2 style="color:var(--primary-color); margin-bottom:15px">Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h2>
            <input type="text" id="pName" class="form-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬">
            <input type="number" id="pPrice" class="form-input" placeholder="Ø§Ù„Ø³Ø¹Ø±">
            <input type="text" id="pImg" class="form-input" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© (URL)">
            <select id="pCat" class="form-input">
                <option value="ÙÙŠØªØ§Ù…ÙŠÙ†Ø§Øª">ÙÙŠØªØ§Ù…ÙŠÙ†Ø§Øª</option>
                <option value="Ø¹Ù†Ø§ÙŠØ©">Ø¹Ù†Ø§ÙŠØ© Ø´Ø®ØµÙŠØ©</option>
                <option value="Ø·Ø¨ÙŠØ¹ÙŠ">Ù…Ù†ØªØ¬Ø§Øª Ø·Ø¨ÙŠØ¹ÙŠØ©</option>
                <option value="Ø£ØºØ°ÙŠØ©">Ø£ØºØ°ÙŠØ© ØµØ­ÙŠØ©</option>
            </select>
            <textarea id="pDesc" class="form-input" rows="3" placeholder="ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬"></textarea>
            <button class="primary-btn" onclick="addProduct()">Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬</button>
            <button class="primary-btn" style="background:#d32f2f; margin-top:5px" onclick="logout()">ØªØ³Ø¬ÙŠÙ„
                Ø®Ø±ÙˆØ¬</button>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('cartModal')">&times;</span>
            <h2 style="margin-bottom:20px"><i class="fas fa-shopping-cart"></i> Ø³Ù„Ø© Ø§Ù„Ø´Ø±Ø§Ø¡</h2>
            <div id="cartItemsContainer" style="max-height:300px; overflow-y:auto; margin-bottom:20px"></div>
            <div style="font-weight:bold; font-size:1.2rem; margin-bottom:15px">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="cartTotal">0</span>
                Ø¬.Ù…</div>

            <hr style="margin-bottom:15px">
            <h3>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø­Ù†</h3>
            <input type="text" id="cName" class="form-input" placeholder="Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„">
            <input type="tel" id="cPhone" class="form-input" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ">
            <input type="text" id="cAddress" class="form-input" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„">
            <button class="primary-btn" onclick="checkout()"><i class="fab fa-whatsapp"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
        </div>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>

    <script>
        // --- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙÙŠØ±Ø¨Ø§Ø³ ---
        // >>>>> Ø¶Ø¹ ÙƒÙˆØ¯ firebaseConfig Ù‡Ù†Ø§ <<<<<
        const firebaseConfig = {
            apiKey: "AIzaSyBbfCfR8BwEJs_MZZbSbL94c6VrAEGdjeU",
            authDomain: "platinum-cf25f.firebaseapp.com",
            databaseURL: "https://platinum-cf25f-default-rtdb.firebaseio.com",
            projectId: "platinum-cf25f",
            storageBucket: "platinum-cf25f.firebasestorage.app",
            messagingSenderId: "663864389314",
            appId: "1:663864389314:web:abbd175491771c8630555b",
            measurementId: "G-CM4PE2V4P3"
        };

        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // --- Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ---
        let products = [];
        let cart = [];
        const adminData = { user: "admin", pass: "123456" }; // Ø¨ÙŠØ§Ù†Ø§Øª Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£Ø¯Ù…Ù† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©

        // --- ØªØ´ØºÙŠÙ„ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„ ---
        document.addEventListener("DOMContentLoaded", () => {
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø±
            const swiper = new Swiper('.swiper', {
                loop: true,
                autoplay: { delay: 5000, disableOnInteraction: false },
                pagination: { el: '.swiper-pagination', clickable: true },
                effect: 'fade', // ØªØ£Ø«ÙŠØ± Ø¸Ù‡ÙˆØ± Ø§Ø­ØªØ±Ø§ÙÙŠ
            });

            loadProducts();
        });

        // --- Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ---
        function loadProducts() {
            db.ref('products').on('value', snapshot => {
                const data = snapshot.val();
                products = data ? Object.values(data) : [];
                renderProducts(products);
                document.getElementById('loader').style.display = 'none';
            });
        }

        // --- Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ---
        function renderProducts(list) {
            const container = document.getElementById('products');
            container.innerHTML = '';

            if (list.length === 0) {
                container.innerHTML = '<p style="text-align:center; width:100%">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</p>';
                return;
            }

            list.forEach(p => {
                container.innerHTML += `
                    <div class="product-card">
                        <div class="prod-img-box">
                            <img src="${p.img}" class="prod-img" alt="${p.name}" onerror="this.src='https://via.placeholder.com/250?text=No+Image'">
                        </div>
                        <div class="prod-details">
                            <div>
                                <div class="prod-cat">${p.cat}</div>
                                <div class="prod-title">${p.name}</div>
                            </div>
                            <div>
                                <div class="prod-price">${p.price} Ø¬.Ù…</div>
                                <button class="add-btn" onclick="addToCart(${p.id})">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø© <i class="fas fa-plus"></i></button>
                            </div>
                        </div>
                    </div>
                `;
            });
        }

        // --- ÙÙ„ØªØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ---
        function filterCat(cat) {
            if (cat === 'all') renderProducts(products);
            else {
                const filtered = products.filter(p => p.cat === cat);
                renderProducts(filtered);
            }
        }

        function searchProducts() {
            const q = document.getElementById('search').value.toLowerCase();
            const filtered = products.filter(p => p.name.toLowerCase().includes(q));
            renderProducts(filtered);
        }

        // --- Ø§Ù„Ø³Ù„Ø© ---
        function addToCart(id) {
            const prod = products.find(p => p.id == id);
            const existing = cart.find(item => item.id == id);
            if (existing) existing.qty++;
            else cart.push({ ...prod, qty: 1 });
            updateCartUI();
            // ØªØ£Ø«ÙŠØ± Ø¨Ø³ÙŠØ·
            const badge = document.getElementById('cartCount');
            badge.style.transform = "scale(1.5)";
            setTimeout(() => badge.style.transform = "scale(1)", 200);
        }

        function updateCartUI() {
            document.getElementById('cartCount').textContent = cart.reduce((a, b) => a + b.qty, 0);
            const container = document.getElementById('cartItemsContainer');
            container.innerHTML = '';
            let total = 0;

            cart.forEach((item, idx) => {
                total += item.price * item.qty;
                container.innerHTML += `
                    <div class="cart-item">
                        <div style="display:flex; align-items:center; gap:10px">
                            <img src="${item.img}" style="width:40px; height:40px; object-fit:cover; border-radius:5px">
                            <div>
                                <div style="font-weight:bold; font-size:0.9rem">${item.name}</div>
                                <div style="font-size:0.8rem; color:#777">${item.price} x ${item.qty}</div>
                            </div>
                        </div>
                        <i class="fas fa-trash" style="color:red; cursor:pointer" onclick="removeFromCart(${idx})"></i>
                    </div>
                `;
            });
            document.getElementById('cartTotal').textContent = total;
        }

        function removeFromCart(idx) {
            cart.splice(idx, 1);
            updateCartUI();
        }

        function checkout() {
            if (cart.length === 0) { alert("Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ©!"); return; }
            const name = document.getElementById('cName').value;
            const phone = document.getElementById('cPhone').value;
            const address = document.getElementById('cAddress').value;

            if (!name || !phone || !address) { alert("ÙŠØ±Ø¬Ù‰ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"); return; }

            // Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ ÙÙŠØ±Ø¨Ø§Ø³
            const orderId = Date.now();
            const orderData = {
                id: orderId,
                date: new Date().toLocaleString(),
                customer: { name, phone, address },
                items: cart,
                total: document.getElementById('cartTotal').textContent
            };

            db.ref('orders/' + orderId).set(orderData).then(() => {
                // Ø¥Ø±Ø³Ø§Ù„ ÙˆØ§ØªØ³Ø§Ø¨
                let msg = `*Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† SHOPPING*\nğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${name}\nğŸ“± Ø§Ù„Ù‡Ø§ØªÙ: ${phone}\nğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address}\n--------\n`;
                cart.forEach(i => msg += `- ${i.name} (${i.qty})\n`);
                msg += `--------\nğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${orderData.total} Ø¬Ù†ÙŠÙ‡`;

                window.open(`https://wa.me/201000000000?text=${encodeURIComponent(msg)}`, '_blank'); // Ø¶Ø¹ Ø±Ù‚Ù…Ùƒ Ù‡Ù†Ø§

                cart = []; updateCartUI(); closeModal('cartModal');
            });
        }

        // --- Ø§Ù„Ø£Ø¯Ù…Ù† ---
        function loginAdmin() {
            const u = document.getElementById('adminUser').value;
            const p = document.getElementById('adminPass').value;
            if (u === adminData.user && p === adminData.pass) {
                closeModal('adminLoginModal');
                openModal('dashboardModal');
            } else {
                alert("Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø©");
            }
        }

        function addProduct() {
            const name = document.getElementById('pName').value;
            const price = document.getElementById('pPrice').value;
            const img = document.getElementById('pImg').value;
            const cat = document.getElementById('pCat').value;
            const desc = document.getElementById('pDesc').value;

            if (!name || !price) return;

            const id = Date.now();
            db.ref('products/' + id).set({ id, name, price, img, cat, desc }).then(() => {
                alert("ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©!");
                // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ø­Ù‚ÙˆÙ„
                document.getElementById('pName').value = "";
                document.getElementById('pPrice').value = "";
                document.getElementById('pImg').value = "";
            });
        }

        function logout() {
            closeModal('dashboardModal');
            alert("ØªÙ… Ø§Ù„Ø®Ø±ÙˆØ¬");
        }

        // --- Ø£Ø¯ÙˆØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø© ---
        function openModal(id) { document.getElementById(id).style.display = 'flex'; }
        function closeModal(id) { document.getElementById(id).style.display = 'none'; }
    </script>
</body>

</html>